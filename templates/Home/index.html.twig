{# simple home with the list of books authors and categories #}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

{% block content %}
	<div class="container">
		<div class="row">
			<div class="col-12">
				<h1 class="text-center">Liste des livres</h1>
			</div>
		</div>
		<div class="row">
			<div class="col-12">
				<table class="table table-striped">
					<thead>
						<tr>
							<th scope="col">Titre</th>
							<th scope="col">Auteur</th>
							<th scope="col">Categories</th>
							<th scope="col">Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for book in books %}
							<tr>
								<td>{{ book.name }}</td>
								<td>{{ book.author }}</td>
								<td>
									{% for category in book.categories %}
										{% if loop.last %}
											{{ category.name }}
										{% else %}
											{{ category.name }},
										{% endif %}
									{% endfor %}
								</td>
								<td>
									<a href="/livres/{{ book.id }}/update" class="btn btn-warning">Modifier</a>
									<a href="/livres/{{ book.id }}/delete" class="btn btn-danger">Supprimer</a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>

		<button type="button" class="btn btn-primary" aria-label="Ajouter un livre" onclick="window.location.href='/livres/create'">
			Ajouter un livre
		</button>
		<button type="button" class="btn btn-primary" aria-label="Ajouter un auteur" onclick="window.location.href='/authors/create'">
			Ajouter un auteur
		</button>
		<button type="button" class="btn btn-primary" aria-label="Ajouter une catégorie" onclick="window.location.href='/categories/create'">
			Ajouter une catégorie
		</button>


	</div>
{% endblock %}
